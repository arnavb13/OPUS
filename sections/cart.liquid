{% form 'cart', cart %}
    <section class="cart-sec">
      {% if cart.empty? %}
        <div class="empty-cart">
          <p>cart is empty</p>
  
        </div>
      {% else %}
        <div class="cart">
          {% for item in cart.items %}
            <div class="cart-img">
            <img
              width="300"
              height="300"
              loading="lazy"
              src="{{ item.image | image_url}}"
            ></div>
            <h2>{{ item.title }}</h2>
            <p>{{ item.final_line_price | money }}</p>
  
            <hr>
            <input name="updates[]" value="{{item.quantity }}">
            <a href="{{ item.url_to_remove }}">remove</a>
          {% endfor %}
          <p class="total">Total: {{ cart.total_price | money }}</p>
          <button type="submit" name="update">update</button>
  
          <button type="submit" name="checkout">Checkout</button>
        </div>
      {% endif %}
    </section>
{% endform %}

<style>
.cart-sec {
  background-color: {{ section.settings.background }};
  display: flex;
  justify-content: center;
  align-items: flex-start; 
  min-height: 100vh; 
  padding: 20px; 
}

.cart {
  width: 90%; 
  max-width: 1200px;
  background-color: #000000;
  padding: 20px;
  box-sizing: border-box;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.cart a {
  text-decoration: none;
  color: #FFFFFF;
}

.cart a:hover {
  text-decoration: underline;
}

.cart button {
  padding: 10px;
}

/* Handle overflow for very long carts */
{% comment %} .cart {
  max-height: calc(100vh - 40px); /* Maximum height of the cart, minus some padding */
   /* Enable scrolling when cart exceeds max height */
} {% endcomment %}

.empty-cart p {
  font-size: 100px;
  color: #f3f1da;
}

.cart h2{
  color: #FFFFFF;
}

.cart p{
  color: #FFFFFF;
}

.total{
  margin-top: 50px;
  font-size: 25px;
}

.cart-img{
 margin-top: 20px;
}
</style>

{% comment %} <style>
    .cart-sec {
        background-color: {{ section.settings.background }};
        display: flex;
        justify-content: center;
        align-items: center; 
        height: 100vh;/* Set the height to the full viewport height */
      }

    .empty-cart p{
       font-size: 100px;
    }

    .cart {
      max-height: 80vh;
      overflow-y: hidden;
      padding: 20px;
      width: 90%;
      box-sizing: border-box; /* Include padding in height/width calculations */
      background-color: #07060b; /* Ensure the cart has its own background */
      border-radius: 10px; /* Optional: Rounded corners for a better look */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .cart a{
      text-decoration: none;
      color: #FFFFFF;
      margin-left: 4px;
      cursor: pointer;
    }

    .cart h2{
      color: #FFFFFF;
    }

    .cart p{
      color: #FFFFFF;
    }
</style>       {% endcomment %}


{% schema %}
{
  "name": "cart",
  "settings": [
    {
      "type": "color",
      "id": "background",
      "label": "Background",
      "default": "#07060b"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#FFFFFF"
    }
  ],
  "presets": [
    {
      "name": "cart"
    }
  ]
}
{% endschema %}