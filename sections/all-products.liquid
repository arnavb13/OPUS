<section class="all-products">

    <h1>{{ collections['Apparels'].title }}</h1>
    <div class="carousel-wrapper">
      <button class="prev" onclick="scrollCarousel(-1)">‹</button>
    <div class="product-container">
        <div class="product-wrapper">

            {% for product in collections['Apparels']%}
               <div class="product-card">
                <img
                width="300"
                height="300"
                loading="lazy"
                src="{{ product.featured_image | image_url }}">
                <h3>{{ product.title | link_to: product.url }}</h3>
               </div>
            {% endfor %}
        </div>    
    </div>   
    <button class="next" onclick="scrollCarousel(1)">›</button>
  </div>
</section>  

<style>
  .all-products {
    background: {{ section.settings.background }};
    color: {{ section.settings.text_color }};
    padding: 10px;
  }

  .all-products-wrapper {
      display: flex;
      transition: transform 0.3s ease-in-out; /* Add smooth transition effect */

  }
  .product-container {
    width: 90%
    overflow-x: hidden;
  }
  
  .carousel-wrapper {
    position: relative;
    display: flex;
    align-items: center;
  }
  
  .product-card {
    padding: 10px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    }

    .product-card h3 a {
      color: #9a712f;
      text-decoration: none
    }

    .product-card a:hover {
      text-decoration: underline;
    }

    .carousel-wrapper button {
      background-color: #9a712f;
      color: white;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      padding: 6px;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      z-index: 2;
    }
    .carousel-wrapper .prev {
      left: 10px;
    }
    
    .carousel-wrapper .next {
      right: 10px;
    }
</style>  

<script>
  function scrollCarousel(direction) {
    const container = document.querySelector('.collection-wrapper');
    const scrollAmount = 300; // Adjust based on how far you want to scroll per click
  
    container.scrollBy({
        left: scrollAmount * direction, // Scroll in the given direction
        behavior: 'smooth' // Smooth scrolling effect
    });
  }
  </script>

{% comment %} <script>
  document.addEventListener('DOMContentLoaded', function () {
    const wrapper = document.querySelector('.product-wrapper');
    const scrollLeftButton = document.querySelector('.scroll-left');
    const scrollRightButton = document.querySelector('.scroll-right');

    scrollLeftButton.addEventListener('click', function () {
      wrapper.scrollBy({
        left: -300, // Adjust based on your card width
        behavior: 'smooth',
      });
    });

    scrollRightButton.addEventListener('click', function () {
      wrapper.scrollBy({
        left: 300, // Adjust based on your card width
        behavior: 'smooth',
      });
    });
  });
</script> {% endcomment %}

{% schema %}
{
  "name": "all-products",
  "settings": [
    {
       "type": "color",
       "id": "background",
       "label": "Background",
       "default": "#07060b"
    },
    {
        "type": "color",
        "id": "text_color",
        "label": "Text",
        "default": "#9a712f"
    }
  ],
  "blocks": [],
  "presets": [
    {
       "name": "all-products"
    }
  ]
}
{% endschema %}