
{% if section.settings['show-announcement'] %}
  <section>
    <div class="announcement-bar">
        <div class="announcement-bar-right-section">

            <ul class="announcement-bar-inner-list">
                {% if section.blocks.size == 0 %}
                    <li>
                        <a href="#">Help</a>
                    </li>   
                    {% if shop.customer_accounts_enabled %}
                    {% if customer %}
                    <li>
                        <a href="/account">Account</a>
                    </li>    
                    
                    {% else %}
                     <li>
                        <a href= "/account/login">Sign In</a>
                      </li>         
                    {% endif %}    
                {% endif %}   
                
                {% else %}
                
                {% for block in section.blocks %}
                    <li>
                        <a href= "{{ section.blocks.link }}">{{ section.blocks.text }}</a>
                     </li>   
                {% endfor %}    
                {% endif %}
            </ul>    
        </div>
    </div>
  </section>  
{% endif %}    

<style>
.announcement-bar{
  background: {{ section.settings.background }};
  color: {{ section.settings.text_color }};
  display: flex;
  justify-content: flex-end;
  padding: 0 30px 0 30px;
  margin: 0;
}    

.announcement-bar-inner-list{
  display: flex;
}

.announcement-bar-inner-list li{
  list-style-type: none;
  font size: 15px;
  padding: 3px;
}

.announcement-bar-inner-list a{
  text-decoration: none;
  color: inherit;
}
</style>

{% schema %}
{
  "name": "Announcement Bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "show-announcement",
      "label": "Show Announcement",
      "default": true
    },
    {
       "type": "color",
       "id": "background",
       "label": "Background",
       "default": "#000000"
    },
    {
       "type": "color",
       "id": "text_color",
       "label": "Text",
       "default": "#9a712f"
    }
  ],
     "blocks": [
        {
            "name": "Links",
            "type": "links",
              "limit": 4,
              "settings": [
                {
                  "type": "text",
                  "id": "text",
                  "label": "Text",
                  "default": "link"
                },
                {
                   "type": "url",
                   "id": "link",
                   "label": "Link" 
                }
            ]
        }
     ],
     "presets": [
        {
           "name": "announcement-bar"
        }
     ]
}
{% endschema %}